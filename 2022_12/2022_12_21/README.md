# 2022_12_21

</br>

## JDBC 이해

</br>

### <b>JDBC 등장 이유 </b>

어플리케이션을 개발할 때 중요한 데이터는 대부분 데이터베이스에 보관함

<b>클라이언트, 애플리케이션 서버, DB</b>

![image](https://user-images.githubusercontent.com/96561194/209076043-ab50c10b-2983-4d97-bfac-2eae1d0b6341.png)

클라이언트가 애플리케이션 서버를 통해 데이터를 저장하거나 조회하면 다음 과정을 통해서 작동

</br>

<b> 애플리케이션 서버와 DB-일반적인 사용법</b>

![image](https://user-images.githubusercontent.com/96561194/209077744-b63c7031-0606-476e-b5e2-cb29266371d9.png)

1.  커넥션 연결: 주로 TCP/IP를 사용해서 커넥션을 연결한다.
2.  SQL 전달: 애플리케이션 서버는 DB가이해할 수 있는 SQL을 연결된 커넥션을 통해 DB에 전달한다.
3.  결과 응답 : DB는 전달된 SQL을 수행하고 그 결과를 애플리케이션에 반환한다

</br>

<b>애플리케이션 서버와 DB-DB 변경</b>

-   관계형 데이터베이스는 수십개가 넘음
-   데이터베이스마다 커넥션 연결 방법, SQL 전달 방법, 결과 응답 받는 방법이 모두 다름
-   여기서 2가지 큰문제가 발생

1.  데이터베이스를 다른 종류 데이터베이스로 변경하면 애플리케이션 서버에 개발된 데이터베이스 사용 코드도 함께 변경해야함
2.  개발자가 각각의 데이터베이스마다 커넥션 연결, SQL 전달, 그리고 그 결과를 응답받는 방법을 새로 학습해야함

**이러한 문제들을 해결하기 위해 JDBC라는 자바 표준이 등장**

</br>

### <b>JDBC 표준 인터페이스 </b>

![image](https://user-images.githubusercontent.com/96561194/209079131-ed605cbe-b0d8-406f-a735-fc523552dc06.png)

1.  연결 - java.sql.Connection
2.  SQL을 담은 내용 - java.sql.Statement
3.  SQL요청 응답 - java.sql.ResultSet

인터페이스만 갖고는 기능이 동작하지않기 때문에 각각 DB에 맞는 JDBC 드라이버를 통해 접근해야함 (ex: Oracle, Mysql)

<b>MySql 드라이버 사용 </b>

![image](https://user-images.githubusercontent.com/96561194/209079634-5b6801b6-1ac1-41fb-b612-798c250f2d33.png)

<b>Oracle 드라이버 사용 </b>

![image](https://user-images.githubusercontent.com/96561194/209079735-509cc148-bdaa-4aec-bae4-84e12bcb55bd.png)

이렇듯 DB 변경시 드라이버만 교체해주면 된다

<b>문제점 해결 </b>

1.  데이터베이스를 다른 종류로 변경하면 애플리케이션 서버의 데이터베이스 사용 코드를 함께 변경해야하는 문제

    -   애플리케이션 로직은 JDBC 표준 인터페이스에만 의존함
    -   다른 데이터베이스로 변경시 JDBC 구현 라이브러리만 변경하면 됨
    -   데이터베이스를 변경해도 애플리케이션 서버의 사용 코드를 그대로 유지할 수 있음

2.  개발자가 각각 데이터베이스마다 커넥션 연결, SQL전달, 응답받는 방법을 새로 학습해야하는 문제
    -   개발자는 모두 JDBC 표준 인터페이스 사용법만 학습하면 된다

</br>

### <b>JDBC 와 최신 데이터 접근 기술</b>

<b>SQL Mapper</b>

-   장점
    -   JDBC 편리하게 사용 가능
    -   SQL응답 결과를 객체로 편리하게 반환
    -   JDBC의 반복 코드를 제거해준다
-   단점
    -   개발자가 SQL을 직접 작성해야함
-   대표기술
    -   MyBatis, 스프링 JdbcTemplate

<b>ORM 기술</b>

-   객체를 관계형 데이터베이스 테이블과 매핑해주는 기술
-   개발자가 반복적인 SQL 을 직접 작성하지 않음
-   ORM 기술이 개발자 대신 SQL을 동적으로 만들어 실행해줌
-   대표기술
    -   JPA, 하이버네이트, 이클립스 링크
